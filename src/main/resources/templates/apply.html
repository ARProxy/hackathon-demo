<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>재난지원금 신청</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <style>
        body {
            background:#121212;
            color:#fff;
            max-width: 420px;
            margin: 0 auto;
            min-height: 100vh;
            font-family: 'Noto Sans KR', sans-serif;
            display: flex;
            flex-direction: column;

            border-left: 1px solid #fff;
            border-right: 1px solid #fff;
        }
        header {
            display:flex; justify-content:space-between; align-items:center;
            padding: 1rem;
            border-bottom:1px solid #1e1e1e;
            background-color: #121212;
            position: sticky; top: 0; z-index: 1000;
        }
        .logo { font-size:1.3rem; font-weight:bold; color:#0d6efd; }
        .user-info { display:flex; align-items:center; }
        .user-info img {
            width:32px; height:32px; border-radius:50%; margin-right:8px;
            border: 1px solid #333;
        }
        .user-info span { font-size:0.95rem; font-weight:500; color:#fff; }

        .container {
            flex:1;
            padding:1.5rem;
        }
        h2 { font-size:1.2rem; margin-bottom:0.5rem; }
        p.note { font-size:0.8rem; color:#bbb; margin-bottom:1rem; }

        /* 커스텀 체크박스 */
        .checkbox-wrapper {
            display:flex; align-items:center; gap:0.6rem;
            margin-bottom:0.8rem;
            cursor:pointer;
        }
        .checkbox-wrapper input {
            display:none; /* 기본 체크박스 숨김 */
        }
        .custom-checkbox {
            width:22px; height:22px;
            display:flex;
            align-items:center;
            justify-content:center;
        }
        .custom-checkbox svg {
            width:20px; height:20px;
            stroke:#888;   /* 체크 안됐을 때 회색 */
            stroke-width:2.5;
            fill:none;
            transition: stroke 0.25s ease;
        }
        /* 체크된 경우 → 파란색 */
        .checkbox-wrapper input:checked + .custom-checkbox svg {
            stroke:#0d6efd;
        }

        /* 버튼 */
        .btn-primary {
            margin-top: 2rem;
            font-size: 1rem;
            padding: 0.9rem;
            font-weight: 600;
            border-radius: 10px;
            background:#0d6efd;
            color:#fff;
            border:none;
            width:100%;
            cursor:pointer;
            opacity:0.5;
            pointer-events:none;
            transition: opacity 0.3s ease;
        }
        .btn-primary.enabled { opacity:1; pointer-events:auto; }
    </style>
</head>
<body>

<header>
    <div class="logo">Sub One</div>
    <div class="user-info">
        <img th:src="${user != null ? user.profile_image_url : '/images/default.png'}" alt="프로필">
        <span th:text="${user != null ? user.nickname : '사용자'}">사용자</span>
    </div>
</header>

<div class="container">
    <h2>보험금 수령에 필요한 서류 접수</h2>
    <p class="note">해당되는 것에 선택을 누르세요</p>

    <form th:action="@{/start}" method="post" id="applyForm">

        <!-- 전체 동의 -->
        <label class="checkbox-wrapper">
            <input type="checkbox" id="selectAll">
            <span class="custom-checkbox">
                <svg viewBox="0 0 24 24"><path d="M5 13l4 4L19 7"/></svg>
            </span>
            전체 동의
        </label>

        <!-- 항목들 -->
        <label class="checkbox-wrapper">
            <input type="checkbox" name="docs" value="주택">
            <span class="custom-checkbox">
                <svg viewBox="0 0 24 24"><path d="M5 13l4 4L19 7"/></svg>
            </span>
            주택
        </label>

        <label class="checkbox-wrapper">
            <input type="checkbox" name="docs" value="온실">
            <span class="custom-checkbox">
                <svg viewBox="0 0 24 24"><path d="M5 13l4 4L19 7"/></svg>
            </span>
            온실
        </label>

        <label class="checkbox-wrapper">
            <input type="checkbox" name="docs" value="상가 또는 공장">
            <span class="custom-checkbox">
                <svg viewBox="0 0 24 24"><path d="M5 13l4 4L19 7"/></svg>
            </span>
            상가 또는 공장
        </label>

        <label class="checkbox-wrapper">
            <input type="checkbox" name="docs" value="공통">
            <span class="custom-checkbox">
                <svg viewBox="0 0 24 24"><path d="M5 13l4 4L19 7"/></svg>
            </span>
            공통
        </label>

        <label class="checkbox-wrapper">
            <input type="checkbox" name="docs" value="보험금 청구서">
            <span class="custom-checkbox">
                <svg viewBox="0 0 24 24"><path d="M5 13l4 4L19 7"/></svg>
            </span>
            보험금 청구서
        </label>

        <label class="checkbox-wrapper">
            <input type="checkbox" name="docs" value="사고증명서">
            <span class="custom-checkbox">
                <svg viewBox="0 0 24 24"><path d="M5 13l4 4L19 7"/></svg>
            </span>
            사고증명서
        </label>

        <label class="checkbox-wrapper">
            <input type="checkbox" name="docs" value="신분증">
            <span class="custom-checkbox">
                <svg viewBox="0 0 24 24"><path d="M5 13l4 4L19 7"/></svg>
            </span>
            신분증
        </label>

        <label class="checkbox-wrapper">
            <input type="checkbox" name="docs" value="피보험자 가족관계등록부 및 주민등록등본">
            <span class="custom-checkbox">
                <svg viewBox="0 0 24 24"><path d="M5 13l4 4L19 7"/></svg>
            </span>
            주민등록 등본
        </label>

        <button type="submit" id="applyBtn" class="btn-primary">원클릭 재난지원금 신청</button>
    </form>
</div>

<script>
    const allCheckbox = document.getElementById("selectAll");
    const checkboxes = document.querySelectorAll("input[name=docs]");
    const applyBtn = document.getElementById("applyBtn");

    allCheckbox.addEventListener("change", () => {
        checkboxes.forEach(cb => cb.checked = allCheckbox.checked);
        toggleButton();
    });

    checkboxes.forEach(cb => cb.addEventListener("change", toggleButton));

    function toggleButton(){
        const anyChecked = Array.from(checkboxes).some(cb => cb.checked);
        if(anyChecked){
            applyBtn.classList.add("enabled");
        } else {
            applyBtn.classList.remove("enabled");
        }
    }
</script>

</body>
</html>
